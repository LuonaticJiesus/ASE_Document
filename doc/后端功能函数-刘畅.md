## 后端的功能函数

### 登录注册

| 函数名            | 参数                   | 返回值             | 功能                                                         |
| ----------------- | ---------------------- | ------------------ | ------------------------------------------------------------ |
| 登录login         | 用户名，密码           | 登录状态status     | 判断用户是否存在、判断密码是否正确<br />用户登录，给予权限   |
| 注册signup        | 用户名，密码，确认密码 | 注册状态status     | - 用户名已存在，注册失败<br />- 不符合强度的密码，注册失败<br />- 密码与确认密码不符，注册失败<br />- 注册成功，生成token并加入数据库 |
| 更改密码changePwd | 用户名，密码，确认密码 | 更改密码状态status | - 不符合强度的密码，修改失败<br />- 密码与确认密码不相同，修改失败<br />- 修改成功，更新数据库 |

#### 对接问题

- 用户的权限有三种(?)，django怎么给权限？——由数据库定义三种用户，在注册时区分并给予权限。

- 前端页面显示密码强度要求：比如含有字母大小写与数字等等。



### 主界面功能

|         函数名          |  参数  |                返回值                | 功能                                                     | 用户 |
| :---------------------: | :----: | :----------------------------------: | -------------------------------------------------------- | ---- |
|   所有课程allCources    |        | 查询状态status，查询结果result（字典 | 查询数据库，提供课程信息                                 | ALL  |
|    我的课程myCources    | 用户名 | 查询状态status，查询结果result（字典 | 根据用户名信息，查询数据库，提供课程信息                 | ALL  |
|    所有通知allNotice    | 用户名 | 查询状态status，查询结果result（字典 | 根据用户名信息，查询数据库，提供所有通知信息             | ALL  |
| 未截止通知currentNotice | 用户名 | 查询状态status，查询结果result（字典 | 根据用户名信息和当前时间，查询数据库，提供未截止通知信息 | ALL  |



#### 对接问题

区分用户：学生能看到什么，助教/老师能看到什么。

所有通知allNotice：也要有用户名



### 课程界面功能

|           **函数名**           |                   参数                   |                返回值                | 功能                                                         | 用户 |
| :----------------------------: | :--------------------------------------: | :----------------------------------: | ------------------------------------------------------------ | ---- |
|  课程所有分享courseAllShares   |                  课程名                  | 查询状态status，查询结果result（字典 | 根据课程名，查询数据库，提供课程下**所有的分享**的基本信息   | ALL  |
|  课程所有成员courseAllMembers  |                  课程名                  | 查询状态status，查询结果result（字典 | 根据课程名，查询数据库，提供课程下所有的**成员**的基本信息   | ALL  |
|  课程所有通知courseAllNotice   |                  课程名                  | 查询状态status，查询结果result（字典 | 根据课程名，查询数据库，提供课程下**所有的通知**的基本信息   | ALL  |
| 课程我发布的分享courseMyShare  |              课程名，用户名              | 查询状态status，查询结果result（字典 | 根据课程名、用户名，查询数据库，提供课程下**用户的分享**的基本信息 | ALL  |
| 课程我发布的通知courseMyNotice |              课程名，用户名              | 查询状态status，查询结果result（字典 | 根据课程名、用户名，查询数据库，提供课程下**用户发布的通知**的基本信息 | TA   |
|       发布通知postNotice       | 用户名，课程名，内容，创建时间，截止时间 |            发布状态status            | 创建一条数据项，更新数据库                                   | TA   |
|       发布分享postShare        |      用户名，课程名，内容，创建时间      |            发布状态status            | 创建一条数据项，更新数据库                                   | ALL  |
|        发布点赞postLike        |            用户名，分享的标识            |            发布状态status            | 更新数据库：Like++                                           | ALL  |
|      发布评论postComment       |    用户名，分享的标识，内容，创建时间    |            发布状态status            | 创建一条数据项，更新数据库                                   | ALL  |
|    **分享加精upholdShare**     |            用户名，分享的标识            |                status                | 修改分享的状态，更新数据库                                   | TA   |
|      删除通知deleteNotice      |                通知的标识                |            取消状态status            | 删除对应数据项                                               | TA   |
|      取消分享cancelShare       |                分享的标识                |            取消状态status            | 删除对应数据项                                               | ALL  |

#### 对接问题

- 加精功能
  - 设置帖子的等级，普通和加精
  - 由助教或老师设置分享的加精。
